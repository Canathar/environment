#   _                                          __
#  | |_ _ __ ___  _   ___  __  ___ ___  _ __  / _|
#  | __| '_ ` _ \| | | \ \/ / / __/ _ \| '_ \| |_
#  | |_| | | | | | |_| |>  < | (_| (_) | | | |  _|
# (_)__|_| |_| |_|\__,_/_/\_(_)___\___/|_| |_|_|
#

# =================================================================================================================================
# --                                                         Reference                                                           --
# =================================================================================================================================
# --                                                                                                                             --
# --   For common reference, use the TMUX Cheatsheet                                                                             --
# --      https://tmuxcheatsheet.com/                                                                                            --
# --                                                                                                                             --
# --                                                                                                                             --
# --   For plug-in manager reference, see                                                                                        --
# --      https://github.com/tmux-plugins/tpm                                                                                    --
# --                                                                                                                             --
# --   For UI enhancements, see Catppuccin                                                                                       --
# --      https://github.com/catppuccin/tmux                                                                                     --
# --                                                                                                                             --
# =================================================================================================================================
# --                                                           Notes                                                             --
# =================================================================================================================================
# --                                                                                                                             --
# --   Display All Available Commands                                                                                            --
# --      <prefix> :list-commands                                                                                                --
# --                                                                                                                             --
# --   Switch Between Windows                                                                                                    --
# --      <prefix> [1-9] (e.g. C-b 1)                                                                                            --
# --                                                                                                                             --
# --                                                                                                                             --
# --   set -g <option>  -- Globally sets a server level option                                                                   --
# --   setw -g <option> -- Globally sets a window level option                                                                   --
# --                                                                                                                             --
# =================================================================================================================================

# Ensure that the terminal supports fill color
set -g default-terminal 'xterm-256color'



# =================================================================================================================================
# --                                                          Plugins                                                            --
# --                                                                                                                             --
# --   For First Time Use                                                                                                        --
# --      git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm                                                      --
# --      Start tmux, then <prefix> I (e.g. C-b I)                                                                               --
# --                                                                                                                             --
# =================================================================================================================================

# https://github.com/tmux-plugins/tpm
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# https://github.com/catppuccin/tmux
set -g @plugin 'catppuccin/tmux#v2.1.3'


# Catppuccin Plug-in Configuration
# NOTE: Make sure a nerd-font is installed
#       see: https://www.nerdfonts.com/cheat-sheet
set -g @catppuccin_flavor "mocha"
set -g @catppuccin_window_status_style "rounded"
set -g @catppuccin_window_text "#W"
set -g @catppuccin_window_current_text "#W#{?window_zoomed_flag,(ó°›­),}"



# =================================================================================================================================
# --                                                       General Stuff                                                         --
# =================================================================================================================================

# ------ Server Level Options ------

# Disable the automated tmux session lock
set -g lock-after-time 0

# Enable mouse control (clickable windows, clickable panes, resizable panes)
set -g mouse on

# Allow tmux to set the system clipboard and allow applications within tmux to set tmux's internal paste buffer
set -g set-clipboard on


# ------ Window Level Options ------

# Configure copy-mode to use vi keys
setw -g mode-keys vi


# ============================================================================
# --                              Key Bindings                              --
# --                                                                        --
# --   Show Built-in Key Bindings                                           --
# --      <prefix> ? (e.g. C-b ?)                                           --
# --                                                                        --
# ============================================================================

# Configure the '<prefix> L' key combination to lock the session
bind L lock-session

# Configure the '<prefix> m' key combination to toggle the mouse on/off and display the current mode
bind m set -g mouse\; display 'Mouse: #{?mouse, ON, OFF}'


# ============================================================================
# --                                 Window                                 --
# ============================================================================


# Start indexing windows at 1 instead of 0 (allows for easy access left-to-right)
set -g base-index 1

# Renumber all windows when any window is closed
set -g renumber-windows on


# ============================================================================
# --                               Status Bar                               --
# ============================================================================

# Left status bar configuration
set -g status-left-length 100
set -g status-left ""

# Right status bar configuration
set -g status-right-length 100
set -g status-right "#{E:@catppuccin_status_host}"
set -ag status-right "#{E:@catppuccin_status_application}"
set -ag status-right "#{E:@catppuccin_status_session}"
set -ag status-right "#{E:@catppuccin_status_uptime}"
set -ag status-right "#{E:@catppuccin_status_date_time}"



# =================================================================================================================================
# --                                                         Sessions                                                            --
# =================================================================================================================================

# Create a new detached session (named 'base')
new -d -s base


# ============================================================================
# --                                Windows                                 --
# ============================================================================

# 1. Create a new window (number 1, named 'code-notes')
# 2. Change the directory of the window then clear the screen
neww -k -t base:1 -n 'code-notes'
send-keys -t base:1 "cn" C-m C-L

# 1. Create a new window (number 2, named 'ref env')
# 2. Split the window into two panes (split horizontally)
# 2. Change the directory of all panes then clear the screen
neww -k -t base:2 -n 'ref env'
split-window -h -t base:2
send-keys -t base:2.0 "reference" C-m C-L
send-keys -t base:2.1 "environment" C-m C-L

# 1. Create a new window (number 3, named 'work - 1')
# 2. Split the window into four panes (split vertically, then horizontally)
# 3. Change the directory of all panes then clear the screen
neww -k -t base:3 -n 'work - 1'
split-window -h -t base:3
split-window -v -t base:3.1
split-window -v -t base:3.2
send-keys -t base:3.0 "cd ~" C-m C-L
send-keys -t base:3.1 "cd ~" C-m C-L
send-keys -t base:3.2 "data" C-m C-L
send-keys -t base:3.3 "wks" C-m C-L

# 1. Create a new window (number 4, named 'work - 2')
# 2. Split the window into four panes (split vertically, then horizontally)
# 3. Change the directory of all panes then clear the screen
neww -k -t base:4 -n 'work - 2'
split-window -h -t base:4
split-window -v -t base:4.1
split-window -v -t base:4.2
send-keys -t base:4.0 "cd ~" C-m C-L
send-keys -t base:4.1 "cd ~" C-m C-L
send-keys -t base:4.2 "data" C-m C-L
send-keys -t base:4.3 "wks" C-m C-L


# Initialize the TMUX plugin manager (keep this line at the very bottom of .tmux.conf)
run '~/.tmux/plugins/tpm/tpm'

